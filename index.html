
<html>
	<head>
		<meta charset="utf-8">
		<title>Form</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link rel="stylesheet" href="Site.css">
	</head>
	<body>
		<form class="col-md-4"  id="signUpForm" target="iframe1" method="post" action="http://codeit.pro/frontTestTask/user/registration" formnovalidate>
       <div class="error-message error" hidden="true"></div>
        <!--name-->
        <div class="form-group">
            <div class="error-name error" hidden="true"></div>
            <input type="text" name="name" class="form-control" id="name" placeholder="Name" required>
        </div>
        <!--secondname-->
        <div class="form-group">
            <div class="error-secondname error" hidden="true"></div>
            <input value="" type="text" name="secondname" class="form-control" id="secondname" minlength="3" maxlength="60"
                   placeholder="Secondname" required>
        </div>
        <!--e-mail-->
        <div class="form-group">
            <div class="error-email error" hidden="true"></div>
            <input value="" type="email" name="email" class="form-control" id="email" placeholder="name@example.com" required>
        </div>
        <!--gender-->
        <div class="form-group">
            <select class="form-control" name="gender" id="gender" required>
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>
        </div>
        <!--password-->
        <div class="form-group">
            <input value="" type="password" name="pass" class="form-control" id="password" placeholder="Password" required>
        </div>
        <!--checkbox-->
         <div class="error-checkbox error" hidden="true"></div>
        <div class="form-check">
                <input class="form-check-input" name="checkbox" type="checkbox" required>
                Conditions of Agreement
        </div>
        <!--sendBtn-->
        <button type="submit" class="btn btn-outline-primary col-md-12" id="button" >Send</button>
        <script>
			    $(document).ready(function(){
				  $('#signUpForm button[type=submit]').click(function(){
                    var form = $('#signUpForm');
				    var data_hash = $('#signUpForm [name]').serialize();
                    console.log(data_hash);
				   $.ajax({
				        type: 'POST',
				        url: 'http://codeit.pro/frontTestTask/user/registration',
				        dataType: "json",
				        data: data_hash,
				        success: function (data) {
				        if(data['status']=="OK"){
                                window.location="indexJson.html";
                        }
                        else if (data['status']=="Error"){
                                $('.error-message').text(data['message']);
                                $('.error-message').show();
                        }
                        else if(data['status']=="Form Error"){
                                $('.error-'+data['field']).text(data['message']);
                                $('.error-'+data['field']).show();
                        }
                        
                       
        },
    });
  });
})
        </script>
</form>

	</body>
</html>